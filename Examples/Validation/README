#Validation

Scattering expressions are complicated and its easy to make mistakes deriving or implementing them.

s->ValidateDefinedTerms()    checks that expressions are defined for all the amplitudes and phase factors that are defined.


To validate the scattering expressions, we have used Matematica to generate tables with scattering
curves for specific parameters. ValidateXXFile is used to compare analytic expressions to content
of the files:

s->ValidateFormFactorFile(map, "F.dat");
s->ValidateFormFactorAmplitudeFile("center",map, dir+"A_center2shell.dat");
s->ValidatePhaseFactorFile("center","surface",map, dir+"Pcenter_surface.dat");
:

The Guinier expansions are also compared against the data generated by mathematica,
by comparing 1- sigma R^2 q^2/6 to the data generated by mathematica, where sigma R^2
expressions are hardcoded for the sub-unit. This comparison is only made where the second
order term is <0.01 of the first order term.


GiNaC can also Taylor expand simple expressions, and thus check whether their expansions
have the correct first 3 terms: 1 coefficient, a  0q term, and the proper SMSD q^2/6 term.
However, this fails for all scattering expressions involving special functions, and it also
fails if simplifications are required to compare to the SMSD expressions. Thus we recommend
not using this except for the simplest cases.

s->ValidateSymbolically()
